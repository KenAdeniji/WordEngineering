<!doctype html>  
<html>  
	<head>  
		<title>Drawing an Image to the Canvas with JavaScript</title>
	</head>
	<body>
		<canvas id="canvas" width="600" height="400">
			<p>Your browser does not support the canvas element.</p>
		</canvas>
		<script type="text/javascript">
		    var CanvasImage =
			{
			    framePerSecond: 30,
			    x: 0,
			    y: 0,
			    xDirection: 1,
			    yDirection: 1,
			    image: new Image(),
			    canvas: null,
			    context2D: null,

			    init: function () {
			        this.image.src = "http://javascript-tutorials.googlecode.com/files/jsplatformer1-smiley.jpg";
			        this.canvas = document.getElementById('canvas');
			        this.context2D = this.canvas.getContext('2d');
			        setInterval(this.draw, 1000 / this.framePerSecond);
			    },

			    draw: function () {
			        this.context2D.clearRect(0, 0, this.canvas.width, this.canvas.height);
			        this.context2D.drawImage(this.image, this.x, this.y);

			        this.x += this.xDirection;
			        this.y += this.yDirection;

			        if (this.x >= 450) {
			            this.x = 450;
			            this.xDirection = -1;
			        }
			        else if (this.x <= 0) {
			            this.x = 0;
			            this.xDirection = 1;
			        }

			        if (this.y >= 250) {
			            this.y = 250;
			            this.yDirection = -1;
			        }
			        else if (this.y <= 0) {
			            this.y = 0;
			            this.yDirection = 1;
			        }
			    }
			}

			window.onload = CanvasImage.init();
		</script>
	</body>
</html>
