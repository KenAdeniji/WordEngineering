<!doctype html>
<html>
	<!--
		2014-12-25 	http://learnjs.io/canvassing/read/
		2014-12-25 	https://github.com/snorpey/glitch-canvas
					https://raw.githubusercontent.com/snorpey/glitch-canvas/master/dist/glitch-canvas.min.js
					https://raw.githubusercontent.com/snorpey/glitch-canvas/master/dist/glitch-canvas.js
	-->
	<head>
		<title>Video</title>
		<style>
			body { margin:0px; padding:0px; }
		</style>		
	</head>
	<body>
		<video id="source-video" autoplay loop style="display:none;">
			<source src="http://upload.wikimedia.org/wikipedia/commons/e/e6/Typing_example.ogv" type="video/ogg">
			<source src="video.webm" type="video/webm">
			<source src="video.mp4" type="video/mp4">
		</video>
		<canvas id="game"></canvas>
		<script src="https://raw.githubusercontent.com/snorpey/glitch-canvas/master/dist/glitch-canvas.min.js"></script>
		<script>
var canvas = document.getElementById('game');
var context = canvas.getContext('2d');

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

var sourceVideo = document.getElementById('source-video');

sourceVideo.addEventListener('playing', function (e) {
  copyFrame(this);
},false);

function copyFrame (video) {
  context.drawImage(video, 0, 0, canvas.width, canvas.height);
  setTimeout(copyFrame, 10, video);
}
		</script>
	</body>
</html>
