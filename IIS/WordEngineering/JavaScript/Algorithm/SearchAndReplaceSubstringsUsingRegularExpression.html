<!DOCTYPE html>
<!-- 
	Example File From "JavaScript and DHTML Cookbook"
	Published by O'Reilly & Associates
	Copyright 2003 Danny Goodman
	2016-11-28	created http://www.oreilly.com/catalog/jvdhtmlckbk
	2016-11-28	http://www.w3schools.com/jsref/jsref_obj_regexp.asp		
-->
<html>
	<head>
		<title>Search and Replace Substrings using Regular Expression</title>
		<style>
			body {background: #737CA1}
			/*
			table{
				width:100%; 
				border-collapse:collapse; 
			}
			*/
			table td{ 
				padding:7px; border:#4e95f4 1px solid;
			}
			/* provide some minimal visual accomodation for IE8 and below */
			table tr{
				background: #b8d1f3;
			}
			/*  Define the background color for all the ODD background rows  */
			table tr:nth-child(odd){ 
				background: #b8d1f3;
			}
			/*  Define the background color for all the EVEN background rows  */
			table tr:nth-child(even){
				background: #dae5f4;
			}
			
			/* div inside a div, border. */
			div > div {
				border: 1px solid #ccc;
			} 
		</style>
	</head>
	<body>
		<h1>Search and Replace Substrings using Regular Expression</h1>
		<hr />
		
		<form action="" onsubmit="return false">
			<table>
				<tr>
					<td><label for="searchText">Search for:</label></td>
					<td><input type="text" id="searchText" size="30"/></td>
				</tr>
				<tr>
					<td><label for="replaceText">Replace with:</label></td>
					<td><input type="text" id="replaceText" size="30"/></td>
				</tr>
				<tr>
					<td><label for="global">Global:</label></td>
					<td><input type="checkbox" id="global" checked></td>
				</tr>
				<tr>
					<td><label for="caseInsensitive">Case insensitive:</label></td>
					<td><input type="checkbox" id="caseInsensitive" checked></td>
				</tr>
				<tr>
					<td colspan="2" align="center">
						<input type="button" value="Search and Replace"	id="searchReplace"/>
					</td>
				</tr>
			</table>
		</form>		
		
		<h2>Boilerplate Text</h2>
		<p id="boilerplate">Lorem ipsum dolor sit (ph) amet, consectetaur adipisicing 
		elit, sed (ph) do eiusmod (ph) tempor incididunt ut labore et dolore magna 
		aliqua. Ut enim adminim veniam, quis (ph) nostrud exercitation ullamco (ph) 
		laboris nisi ut aliquip ex ea commodo consequat.</p>
		
		<script>
			var isPostBack = false;
			
			function pageLoad()
			{
				if (isPostBack === false)
				{
					document.getElementById("searchText").value = "\(ph\)";
					document.getElementById("replaceText").value = "PLACEHOLDER REPLACEMENT";
				}
				isPostBack = true;
			}
			
			function searchReplaceAction()
			{
				var	regularExpression = new RegExp
				(
					document.getElementById("searchText").value,
						(document.getElementById("global").checked ? "g" : "") +
						(document.getElementById("caseInsensitive").checked ? "i" : "")
				);
				
				document.getElementById("boilerplate").innerHTML =
					document.getElementById("boilerplate").innerHTML.replace
					(
						regularExpression,
						document.getElementById("replaceText").value
					);
			}
			
			window.addEventListener("load", pageLoad, false);

			document.getElementById("searchReplace").addEventListener("click", searchReplaceAction, false);			
		</script>
	</body>
</html>
