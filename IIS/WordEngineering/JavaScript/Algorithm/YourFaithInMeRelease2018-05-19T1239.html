<html>
<!--
	2018-05-19 	Created.
-->
	<head>
		<title>Your faith in Me</title>
		<link rel="stylesheet" type="text/css" href="9432.css">
		<script src="http://code.jquery.com/jquery-latest.js"></script>
		<script src="http://cdn.jsdelivr.net/jstat/1.1.1/jstat.min.js"></script>
	</head>
	<body>
		<div align="center">
			<textarea rows="4" cols="50" id="request">50, 40, 27, 36, 34, 24, 21, 4, 31, 24, 22, 25, 29, 36, 10, 13, 10, 42, 150, 31, 12, 8, 66, 52, 5, 48, 12, 14, 3, 9, 1, 4, 7, 3, 3, 3, 2, 14, 4, 28, 16, 24, 21, 28, 16, 16, 13, 6, 6, 4, 4, 5, 3, 6, 4, 3, 1, 13, 5, 5, 3, 5, 1, 1, 1, 22</textarea><br>
			<button id="query">Query</button><br>
			<div id="dateResponse"></div>
			<div id="numberResponse"></div>
		</div>
		<script>
			var isPostBack = false;
			function pageLoad()
			{
				if (isPostBack === false)
				{
					$.getScript( "/WordEngineering/WordUnion/9432.js", function( data, textStatus, jqxhr ) {
						parseData();
						isPostBack = true;
					});
				}
			}
			
			function parseData()
			{
				var dataSet = document.getElementById("request").value;
				var requestArray = dataSet.split(",");
				var current;
				var dateTime;
				var numberSet = [];
				var dateSet = [];
				var informationSet = "<table><caption>Statistics</caption>";
				for 
				(
					index = 0, length = requestArray.length;
					index < length;
					++index
				)
				{
					current = requestArray[index];
					dateTime = Date.parse(current)
					if (isNaN(current) === false)
					{
						numberSet.push( parseFloat(current) );
					}
					else if (isNaN(dateTime) === false)
					{
						dateSet.push(dateTime);
					}
				}
				
				if (dateSet.length > 0)
				{
					var informationSet = "<table><caption>Date Statistics</caption>";
					informationSet += scriptLiteral9432.buildHead("Unit", "Value");
				
					var hypot = Math.hypot.apply(Math, dateSet);
					var	maximum = jStat.max(dateSet);
					var mean = jStat.mean(dateSet);
					var median = jStat.median(dateSet);
					var minimum = jStat.min(dateSet);
					var mode = jStat.mode(dateSet);
					var populationStandardDeviation = jStat.stdev(dateSet, false);
					var populationVariance = jStat.variance(dateSet, false);	
					var range = jStat.range(dateSet);
					var sampleVariance = jStat.variance(dateSet, true);
					var sampleStandardDeviation = jStat.stdev(dateSet, true);
					var sum = jStat.sum(dateSet);

					informationSet += scriptLiteral9432.buildRow("count:", dateSet.length);
					informationSet += scriptLiteral9432.buildRow("mean:", hypot);
					informationSet += scriptLiteral9432.buildRow("maximum:", maximum);
					informationSet += scriptLiteral9432.buildRow("mean:", mean);
					informationSet += scriptLiteral9432.buildRow("median:", median);
					informationSet += scriptLiteral9432.buildRow("minimum:", minimum);
					informationSet += scriptLiteral9432.buildRow("mode:", mode);
					informationSet += scriptLiteral9432.buildRow("range:", range);
					informationSet += scriptLiteral9432.buildRow("sum:", sum);
					informationSet += "</table>";
					document.getElementById("dateResponse").innerHTML = informationSet;
				}
			
				if (numberSet.length > 0)
				{
					var informationSet = "<table><caption>Number Statistics</caption>";
					informationSet += scriptLiteral9432.buildHead("Unit", "Value");
				
					var hypot = Math.hypot.apply(Math, numberSet);
					var	maximum = jStat.max(numberSet);
					var mean = jStat.mean(numberSet);
					var median = jStat.median(numberSet);
					var minimum = jStat.min(numberSet);
					var mode = jStat.mode(numberSet);
					var populationStandardDeviation = jStat.stdev(numberSet, false);
					var populationVariance = jStat.variance(numberSet, false);	
					var range = jStat.range(numberSet);
					var sampleVariance = jStat.variance(numberSet, true);
					var sampleStandardDeviation = jStat.stdev(numberSet, true);
					var sum = jStat.sum(numberSet);

					informationSet += scriptLiteral9432.buildRow("count:", numberSet.length);
					informationSet += scriptLiteral9432.buildRow("mean:", hypot);
					informationSet += scriptLiteral9432.buildRow("maximum:", maximum);
					informationSet += scriptLiteral9432.buildRow("mean:", mean);
					informationSet += scriptLiteral9432.buildRow("median:", median);
					informationSet += scriptLiteral9432.buildRow("minimum:", minimum);
					informationSet += scriptLiteral9432.buildRow("mode:", mode);
					informationSet += scriptLiteral9432.buildRow("range:", range);
					informationSet += scriptLiteral9432.buildRow("sum:", sum);
					
					informationSet += "</table>";
					document.getElementById("numberResponse").innerHTML = informationSet;
				}
			}	

			window.addEventListener("load", pageLoad, false);

			document.getElementById("query").addEventListener("click", parseData, false);
		</script>
	</body>
</html>
