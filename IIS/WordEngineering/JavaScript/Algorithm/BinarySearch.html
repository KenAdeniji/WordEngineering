<html>
<head>
<title>BinarySearch</title>
<style type="text/css">
	body { background: blue; color: yellow; }
</style>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
</head>
<body>
<div align="center">
	DataSet: <textarea id="request" rows="4" cols="50">3,4,5</textarea> <br />
	What to Find: <input id="whatToFind" type="text" value="5" />
	<button id="query">Query</button><br />
	<div id="response">
	</div>
</div>	
<script>
$(document).ready(function () {
	domReady();
});

function domReady() {
	$("#query").click(function() {
		eStats();
	});
	eStats();	
}

function eStats()
{
	var requestText = $("#request").val();
	var requestArray = requestText.split(",");

	var whatToFind = $("#whatToFind").val();
	var arrayIndex = binarySearch(requestArray, whatToFind); //	//var arrayIndex = binarySearch([1,2,3,4,5,6,7,8,9,10], 5);
	$("#response").html
	(
		"Count: " + requestArray.length + "<br/>" +
		"Index: " + arrayIndex
	);
}
</script>
<script>
//http://www.nczonline.net/blog/2009/09/01/computer-science-in-javascript-binary-search/
//Copyright 2009 Nicholas C. Zakas. All rights reserved.
//MIT-Licensed, see source file
function binarySearch(items, value){

    var startIndex  = 0,
        stopIndex   = items.length - 1,
        middle      = Math.floor((stopIndex + startIndex)/2);

    while(items[middle] != value && startIndex < stopIndex){
		
		console.log(middle);
		
        //adjust search area
        if (value < items[middle]){
            stopIndex = middle - 1;
        } else if (value > items[middle]){
            startIndex = middle + 1;
        }

        //recalculate middle
        middle = Math.floor((stopIndex + startIndex)/2);
    }

    //make sure it's the right value
    return (items[middle] != value) ? -1 : middle;
}
</script>
</body>
</html>
