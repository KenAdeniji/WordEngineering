<!doctype html>
<html>
	<!--
		2015-05-01	Created.	http://www.sislands.com/coin70/week2/sumDigits.htm
	-->
	<head>
		<title>Sum of Digits</title>
		<style>
			body { background: blue; color: yellow; }
		</style>
	</head>
	<body>
		<div align="center">
			<input id="amount" type="number" step="1">
			<button id="query">Query</button>
			<br>
			<div id="feedback"></div>
		</div>
		<script>
			var isPostBack = false; 
			
			function sumOfDigits(num) {
				 var i, sum = 0;                  // can declare two variables at once

				 for (i = 1; i <= num; i++) {
						 sum += i;              // add each number to sum (ie, 1 + 2 + ...+ num)
				 }

				 return sum;
			}
			
			function init() 
			{ 
				if (!isPostBack)
				{ 
					var amount = document.getElementById("amount");
					amount.value = 22;
					work();
					isPostBack = true; 
				} 
			}

			function work()
			{
				var amount = document.getElementById("amount").value;
				var info = sumOfDigits(amount)
				
				var feedback = document.getElementById("feedback");
				feedback.innerHTML = info;
			}
			
			window.addEventListener("load", init, "false");
			
			var query = document.getElementById("query");
			query.addEventListener("click", work, "false");
		</script>
	</body>
</html>
