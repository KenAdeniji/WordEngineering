<html>
	<!--
		 2013-04-24 killdream.github.io/blog/2011/10/understanding-javascript-oop
	-->
	<head>
		<title>Understanding JavaScript OOP</title>
	</head>
	<body>
		<script>
			var mikhail = Object.create(null);

			mikhail['name']   = 'Mikhail'
			mikhail['age']    = 19
			mikhail['gender'] = 'Male'
			
			console.log(mikhail.age);
			
			mikhail.name   = 'Mikhail'
			mikhail.age    = 19
			mikhail.gender = 'Male'
			console.log(mikhail.gender);
			
			mikhail.temp = 10;
			delete mikhail['temp']
			
			function get_full_name() {
				return this.first_name + ' ' + this.last_name
			}

			function set_full_name(new_name) { 
				var names;
				names = new_name.trim().split(/\s+/);
				this.first_name = names['0'] || ''
				this.last_name  = names['1'] || ''
			}

			Object.defineProperty(mikhail, 'name', 	{ 	get: get_full_name
														, set: set_full_name
														, configurable: true
														, enumerable:   true })	

			console.log(Object.getOwnPropertyNames(mikhail));
			console.log(Object.keys(mikhail));
			
			//Object literal
			var mikhail = { first_name: 'Mikhail'
              , last_name:  'Weiß'
              , age:        19
              , gender:     'Male'

              // () → String
              // Returns the full name of object.
              , get name() {
                    return this.first_name + ' ' + this.last_name }

              // (new_name:String) → undefined
              // Sets the name components of the object,
              // from a full name.
              , set name(new_name) { var names
                    names = new_name.trim().split(/\s+/)
                    this.first_name = names['0'] || ''
                    this.last_name  = names['1'] || '' }
              }
			  
			  console.log(mikhail.last_name)
			  
			  //The new magic
			  function Person(first_name, last_name) {
				this.first_name = first_name
				this.last_name  = last_name
			  }
			  
			  var person = new Person('Mikhail', 'Weiß')
		</script>
	</body>
</html>
