<!DOCTYPE html>
<html>
	<!--
		2020-05-19T21:00:00	Created. 	https://medium.com/@cristiansalcescu/an-introduction-to-functional-javascript-e8dab63bb51d
		2020-05-19T22:24:00	TypeError: queryElement.value.map is not a function Discover Functional JavaScript by Cristian Salcescu.html:54:53
	-->
	<head>
		<title>Discover Functional JavaScript by Cristian Salcescu</title>
		<meta charset="UTF-8"/>
		<meta name="description" content="Discover Functional JavaScript by Cristian Salcescu"/>
		<meta name="keywords" content="Functional JavaScript"/>
		<meta name="robots" content="index, follow"/>
		<meta name="author" content="Ken Adeniji"/>
		<link rel="stylesheet" type="text/css" href="/WordEngineering/WordUnion/9432.css">
		<style>
			html, body{
			  height: 100%;
			  width: 100%;
			}
			textarea{ //viewport
				height: 65vh;
				width: 90vw;
			}
		</style>
	</head>
	<body>
		<div align="center">
			<textarea id="query"></textarea>
			<br/>
			<input type="submit" id="submitQuery">
			<div id="resultSet"></div>
		</div>	
		<script>
			var isPostBack = false;
	
			const queryElement = document.getElementById("query"); 
			const resultSetElement = document.getElementById("resultSet"); 
			const submitQueryElement = document.getElementById("submitQuery");
			
			function pageLoad()
			{
				if (isPostBack === false)
				{
					queryElement.value = BibleBooks;
					querySubmit();	
					isPostBack = true;
				}
			}

			function prefix(bookTitle, bookIndex, books){
				const result = "#" + (bookIndex + 1) + " " + bookTitle;
				return result;
			}
			
			function querySubmit()
			{
				resultSetElement.innerHTML = queryElement.value.split(/,|;/).map(prefix).join(', ');
			}

			submitQueryElement.addEventListener("click", querySubmit, false);
			
			var body = document.getElementsByTagName('body')[0];
			body.onkeydown = function (e) {
				if (e.keyCode === 13) {  //enter key code
					querySubmit();
				}
			}
			
			window.addEventListener("load", pageLoad, false);
			
			const BibleBooks = "Genesis, Exodus, Leviticus, Numbers, Deuteronomy, Joshua, Judges, Ruth, 1 Samuel, 2 Samuel, 1 Kings, 2 Kings, 1 Chronicles, 2 Chronicles, Ezra, Nehemiah, Esther, Job, Psalms, Proverbs, Ecclesiastes, Song of Solomon, Isaiah, Jeremiah, Lamentations, Ezekiel, Daniel, Hosea, Joel, Amos, Obadiah, Jonah, Micah, Nahum, Habakkuk, Zephaniah, Haggai, Zechariah, Malachi, Matthew, Mark, Luke, John, Acts, Romans, 1 Corinthians, 2 Corinthians, Galatians, Ephesians, Philippians, Colossians, 1 Thessalonians, 2 Thessalonians, 1 Timothy, 2 Timothy, Titus, Philemon, Hebrews, James, 1 Peter, 2 Peter, 1 John, 2 John, 3 John, Jude, Revelation";
		</script>
	</body>
</html>
