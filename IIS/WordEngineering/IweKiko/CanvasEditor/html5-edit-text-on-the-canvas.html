<!doctype html>
<html>
<!--
	2016-03-01	http://stackoverflow.com/questions/15823328/html5-edit-text-on-the-canvas
-->
<head>
<link rel="stylesheet" type="text/css" media="all" href="css/reset.css" /> <!-- reset css -->
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>

<style>
    body{ background-color: ivory; padding:20px; }
    canvas{border:1px solid red;}
</style>

<script>
$(function(){

    var canvas=document.getElementById("canvas");
    var ctx=canvas.getContext("2d");

    ctx.font="18px Arial";

    var keyHistory="";

    //window.addEventListener("keyup", keyUpHandler, true);

	window.addEventListener("keyup", keyPressHandler, true);
	
    function addletter(letter){
        keyHistory+=letter;
        ctx.clearRect(0,0,300,300);
        ctx.fillText(keyHistory,20,20);
    }

    function keyUpHandler(event){
        var letters="abcdefghijklmnopqrstuvwxyz";
        var key=event.keyCode;
        if(key>64 && key<91){
            var letter=letters.substring(key-64,key-65);
            addletter(letter);
        }
    }
	
	function keyPressHandler(event) { 
		//addletter(String.fromCharCode(event.charCode));
		addletter(String.fromCharCode(event.keyCode));
	}	

}); // end $(function(){});
</script>

</head>

<body>
    <p>First click in the red canvas below</p><br/>
    <!--
	<p>Then type any lowercase letters from a-z</p><br/>
	-->
    <canvas id="canvas" width=300 height=100></canvas>
</body>
</html>
