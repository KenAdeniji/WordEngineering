<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<title>Google Maps JavaScript API Example</title>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="http://maps.google.com/maps?file=api&v=2&key=AIzaSyA3s7tNLie9_XAyKwzl8sGypCllGrkEqu8" type="text/javascript"></script>
<script type="text/javascript">

//<![CDATA[

function load() {
	var lat = getParameterByName("lat");
	var lng = getParameterByName("lng");

	if (isNan(lat) == true) { lat = -33.9417; }
	if (isNan(lng) == true) { lng = 150.9473; }
	
	if (GBrowserIsCompatible()) {
		var map = new GMap2(document.getElementById("map"));

		//map.setCenter(new GLatLng(37.4419, -122.1419), 13);

		//var point = new GLatLng(-33.9417, 150.9473);
		
		var point = new GLatLng(lat, lng);
		map.setCenter(point, 10);
		var marker = new GMarker(point);
		map.addOverlay(marker);
		
		GEvent.addListener(marker, "click", function()
			{marker.openInfoWindowHtml('here I am');}
		)
	}
}

function getParameterByName(name)
{
  name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
  var regexS = "[\\?&]" + name + "=([^&#]*)";
  var regex = new RegExp(regexS);
  var results = regex.exec(window.location.href);
  if(results == null)
	return "";
  else
	return decodeURIComponent(results[1].replace(/\+/g, " "));
}
	
//]]>
</script>
</head>
<body onload="load()" onunload="GUnload()">
<div id="map" style="width: 500px; height: 300px"></div>
</body>
</html>