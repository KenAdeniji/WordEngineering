<!doctype html>
<html>
<!--
	2015-09-27	Created.	https://raw.githubusercontent.com/lukes/ISO-3166-Countries-with-Regional-Codes/master/all/all.json
	2015-10-05	loadDoc()	http://www.w3schools.com/ajax/
	2015-10-06	Changed the file extension from .json to .txt to circumvent permission denied.
-->
<head>
<meta charset="UTF-8">
<title>ISO 3166 Import Json</title>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<style>
	table {
		border-collapse: collapse;  
	}

	td {
		width: 200px;
		border-bottom: 1px solid #000;
		padding: 5px; 
		margin: 0; 
	}

	th { text-align: left; }

	tr:nth-child(odd){ 
		background: #b8d1f3;
	}

	tr:nth-child(even){
		background: #dae5f4;
	}
</style>
</head>

<body>
<h1>ISO 3166 Import Json</h1>
<table id="iso3166">
<tr>
<th>Name</th>
<th>Alpha-2</th>
<th>Alpha-3</th>
<th>Country Code</th>
<th>Region</th>
<th>Sub Region</th>
</tr>
</table>

<div id="display"></div>
<script>
var filename = "ISO-3166-Countries-with-Regional-Codes.txt";
$( document ).ready(function() {
	$.getJSON(filename, function(data, status, xhr) {
		$.each(data,function (k,v) {
			$('#iso3166').append
			(
				'<tr><td>' + v.name + '</td>' +
				'<td>' + v["alpha-2"] + '</td>' + 
				'<td>' + v["alpha-3"] + '</td>' + 
				'<td>' + v["country-code"] + '</td>' + 
				'<td>' + v["region"] + '</td>' + 
				'<td>' + v["sub-region"] + '</td>' + 
				'</tr>'
			);
		});
	});
});

function loadDoc() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
		//document.getElementById("display").innerHTML = xhttp.responseText;
    }
  }
  xhttp.open("GET", filename, true);
  xhttp.send();
} 	

window.addEventListener("load", loadDoc, false);
</script>
</body>
</html>
