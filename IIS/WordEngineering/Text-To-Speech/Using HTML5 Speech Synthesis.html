<!DOCTYPE html>
<html>
	<!--
		2016-06-19 stephenwalther.com/archive/2015/01/05/using-html5-speech-recognition-and-text-to-speech
	-->	
	<head>
		<title>text-to-speech</title>
		<link rel="stylesheet" type="text/css" href="/WordEngineering/WordUnion/9432.css">
	</head>
	<body>
		<div>
			<textarea rows="7" cols="50" id="wordToSpeak">Jon likes Iced Tea!</textarea>
			<button id="query">Query</button>
		</div>
		<script>
		
		//speak('Jon likes Iced Tea!');
		
		function sayWord()
		{
			speak(document.getElementById("wordToSpeak").value);
		}
		 
		// say a message
		function speak(text, callback) {
			var u = new SpeechSynthesisUtterance();
			u.text = text;
			u.lang = 'en-US';
		 
			u.onend = function () {
				if (callback) {
					callback();
				}
			};
		 
			u.onerror = function (e) {
				if (callback) {
					callback(e);
				}
			};
		 
			speechSynthesis.speak(u);
		}
		
		window.addEventListener("load", sayWord, false);

		var query = document.getElementById("query");
		query.addEventListener("click", sayWord, false);

		var body = document.getElementsByTagName('body')[0];
		body.onkeydown = function (e) {
			if (e.keyCode === 13) {  //enter key code
				sayWord();
			}
		}
		
		</script>
	</body>
</html>
