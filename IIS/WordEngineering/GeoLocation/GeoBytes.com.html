<!--
	2015-06-25	Created.	http://www.geobytes.com/free-ajax-cities-jsonp-api/
-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/themes/flick/jquery-ui.css" />
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<style type="text/css">
.ui-menu .ui-menu-item a,.ui-menu .ui-menu-item a.ui-state-hover, .ui-menu .ui-menu-item a.ui-state-active {
	font-weight: normal;
	margin: -1px;
	text-align:left;
	font-size:14px;
	}
.ui-autocomplete-loading { background: white url("/images/ui-anim_basic_16x16.gif") right center no-repeat; }
body {background-color: blue; color:yellow;}
</style>
 
<script type="text/javascript">
jQuery(function () 
 {
	 jQuery("#f_elem_city").autocomplete({
		source: function (request, response) {
		 jQuery.getJSON(
			"http://gd.geobytes.com/AutoCompleteCity?callback=?&q="+request.term,
			function (data) {
			 response(data);
			}
		 );
		},
		minLength: 3,
		select: function (event, ui) {
		 var selectedObj = ui.item;
		 jQuery("#f_elem_city").val(selectedObj.value);
		 getcitydetails(selectedObj.value);
		 return false;
		},
		open: function () {
		 jQuery(this).removeClass("ui-corner-all").addClass("ui-corner-top");
		},
		close: function () {
		 jQuery(this).removeClass("ui-corner-top").addClass("ui-corner-all");
		}
	 });
	 jQuery("#f_elem_city").autocomplete("option", "delay", 100);
	});
</script>

<script type="text/javascript">
function getcitydetails(fqcn) {

	if (typeof fqcn == "undefined") fqcn = jQuery("#f_elem_city").val();

	cityfqcn = fqcn;

	if (cityfqcn) {

	    jQuery.getJSON(
	                "http://gd.geobytes.com/GetCityDetails?callback=?&fqcn="+cityfqcn,
                     function (data) {
	            //jQuery("#geobytesinternet").val(data.geobytesinternet);
	            jQuery("#geobytescountry").val(data.geobytescountry);
	            jQuery("#geobytesregionlocationcode").val(data.geobytesregionlocationcode);
	            jQuery("#geobytesregion").val(data.geobytesregion);
	            jQuery("#geobyteslocationcode").val(data.geobyteslocationcode);
	            jQuery("#geobytescity").val(data.geobytescity);
	            jQuery("#geobytescityid").val(data.geobytescityid);
	            jQuery("#geobytesfqcn").val(data.geobytesfqcn);
	            jQuery("#geobyteslatitude").val(data.geobyteslatitude);
	            jQuery("#geobyteslongitude").val(data.geobyteslongitude);
	            jQuery("#geobytescapital").val(data.geobytescapital);
	            jQuery("#geobytestimezone").val(data.geobytestimezone);
	            jQuery("#geobytesnationalitysingular").val(data.geobytesnationalitysingular);
	            jQuery("#geobytespopulation").val(data.geobytespopulation);
	            jQuery("#geobytesnationalityplural").val(data.geobytesnationalityplural);
	            jQuery("#geobytesmapreference").val(data.geobytesmapreference);
	            jQuery("#geobytescurrency").val(data.geobytescurrency);
	            jQuery("#geobytescurrencycode").val(data.geobytescurrencycode);
	            }
	    );
	}
}
</script>

<form action="" method="post" name="form_citydetails" id="form_citydetails" enctype="multipart/form-data" onsubmit="return false;">
<p><b>Please enter</b> your city here to see it work. <input class="ff_elem" type="text" name="ff_nm_from[]" value="" id="f_elem_city"/></p>

<table border="1" cellpadding="3" cellspacing="0">
<tbody>
	<tr>
	 <td style="width:30%">
		Country Code
	 </td>
	 <td style="width:70%">
		<input id="geobytesinternet" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		Country
	 </td>
	 <td>
		 <input id="geobytescountry" readonly="readonly" size="30" value=""></p>
	 </td>
	</tr>
	<tr>
	 <td>
		Region Code
	 </td>
	 <td>
		<input id="geobytesregionlocationcode" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		Region
	 </td>
	 <td>
		<input id="geobytesregion" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		City Code
	 </td>
	 <td>
		<input id="geobyteslocationcode" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		City
	 </td>
	 <td>
		<input id="geobytescity" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		CityId
	 </td>
	 <td>
		<input id="geobytescityid" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		Fully Qualified<br>Name
	 </td>
	 <td>
		<input id="geobytesfqcn" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		Latitude
	 </td>
	 <td>
		<input id="geobyteslatitude" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		Longitude
	 </td>
	 <td>
		<input id="geobyteslongitude" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		Capital City
	 </td>
	 <td>
		<input id="geobytescapital" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		TimeZone
	 </td>
	 <td>
		<input id="geobytestimezone" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		Nationality<br>Singular
	 </td>
	 <td>
		<input id="geobytesnationalitysingular" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		Population
	 </td>
	 <td>
		<input id="geobytespopulation" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	</tr>
	<tr>
	<tr>
	 <td>
		Nationality<br>Plural
	 </td>
	 <td>
		<input id="geobytesnationalityplural" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		CIA Map<br>Reference
	 </td>
	 <td>
		<input id="geobytesmapreference" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		Currency
	 </td>
	 <td>
		<input id="geobytescurrency" readonly="readonly" size="30" value="">
	 </td>
	</tr>
	<tr>
	 <td>
		Currency<br>Code
	 </td>
	 <td>
		<input id="geobytescurrencycode" readonly="readonly" size="30" value="">
	 </td>
	</tr>
 </tbody>
 </table>
 
</form>
